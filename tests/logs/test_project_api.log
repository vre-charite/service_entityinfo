2021-04-26 15:05:50 INFO     

2021-04-26 15:05:50 INFO     Preparing testing project-------------------------------------------------------
2021-04-26 15:05:50 INFO     POST API: http://10.3.7.216:5062/v1/neo4j/nodes/Dataset
2021-04-26 15:05:50 INFO     POST params: {'name': 'EntityInfoUnitTest', 'path': 'unittest_entity_info', 'code': 'unittest_entity_info', 'description': 'Project created by unit test, will be deleted soon...', 'discoverable': 'true', 'type': 'Usecase', 'tags': ['test'], 'global_entity_id': '765ccadb-0bb0-40eb-ab3d-8c0512a6b13a-1619463956'}
2021-04-26 15:05:50 INFO     RESPONSE DATA: [{"id": 8618, "labels": ["Dataset"], "name": "EntityInfoUnitTest", "time_created": "2021-04-26T19:05:56", "time_lastmodified": "2021-04-26T19:05:56", "path": "unittest_entity_info", "code": "unittest_entity_info", "description": "Project created by unit test, will be deleted soon...", "discoverable": "true", "type": "Usecase", "tags": ["test"], "global_entity_id": "765ccadb-0bb0-40eb-ab3d-8c0512a6b13a-1619463956"}]

2021-04-26 15:05:50 INFO     RESPONSE STATUS: 200
2021-04-26 15:05:50 INFO     project ID: 8618
2021-04-26 15:05:50 INFO     

2021-04-26 15:05:50 INFO     Creating testing file-----------------------------------------------------------
2021-04-26 15:05:50 INFO     Getting global entity ID: {"code": 200, "error_msg": "", "result": "a860f773-b7a2-41bd-830d-18dd63320766-1619463956"}

2021-04-26 15:05:50 INFO     POST API: http://10.3.7.216:5062/v1/neo4j/nodes/File
2021-04-26 15:05:50 INFO     POST payload: {'file_size': 1000, 'full_path': '/data/vre-storage/unittest_entity_info/raw/entity_info_test_1', 'path': '/data/vre-storage/unittest_entity_info/raw', 'generate_id': 'undefined', 'guid': 'unittest_guid', 'namespace': 'greenroom', 'uploader': 'unittest', 'project_id': 8618, 'name': 'entity_info_test_1', 'input_file_id': 'a860f773-b7a2-41bd-830d-18dd63320766-1619463956', 'process_pipeline': 'raw', 'operator': 'entity_info_unittest', 'tags': ['tag1', 'tag2'], 'global_entity_id': 'a860f773-b7a2-41bd-830d-18dd63320766-1619463956', 'parent_folder_geid': 'None', 'project_code': 'unittest_entity_info', 'extra_labels': ['Greenroom']}
2021-04-26 15:05:50 INFO     RESPONSE DATA: [{"id": 8625, "labels": ["File", "Greenroom"], "name": "entity_info_test_1", "time_created": "2021-04-26T19:05:57", "time_lastmodified": "2021-04-26T19:05:57", "file_size": 1000, "full_path": "/data/vre-storage/unittest_entity_info/raw/entity_info_test_1", "path": "/data/vre-storage/unittest_entity_info/raw", "generate_id": "undefined", "guid": "unittest_guid", "namespace": "greenroom", "uploader": "unittest", "project_id": 8618, "input_file_id": "a860f773-b7a2-41bd-830d-18dd63320766-1619463956", "process_pipeline": "raw", "operator": "entity_info_unittest", "tags": ["tag1", "tag2"], "global_entity_id": "a860f773-b7a2-41bd-830d-18dd63320766-1619463956", "parent_folder_geid": "None", "project_code": "unittest_entity_info"}]

2021-04-26 15:05:50 INFO     RESPONSE STATUS: 200
2021-04-26 15:05:50 INFO     Create relation res: "success"

2021-04-26 15:05:50 INFO     

2021-04-26 15:05:50 INFO     Creating testing file-----------------------------------------------------------
2021-04-26 15:05:50 INFO     Getting global entity ID: {"code": 200, "error_msg": "", "result": "18e8e088-38d4-474a-9993-e55a9dca2d48-1619463957"}

2021-04-26 15:05:50 INFO     POST API: http://10.3.7.216:5062/v1/neo4j/nodes/File
2021-04-26 15:05:50 INFO     POST payload: {'file_size': 1000, 'full_path': '/vre-data/unittest_entity_info/raw/entity_info_test_3', 'path': '/vre-data/unittest_entity_info/raw', 'generate_id': 'undefined', 'guid': 'unittest_guid', 'namespace': 'vrecore', 'uploader': 'unittest', 'project_id': 8618, 'name': 'entity_info_test_3', 'input_file_id': '18e8e088-38d4-474a-9993-e55a9dca2d48-1619463957', 'process_pipeline': 'raw', 'operator': 'entity_info_unittest', 'tags': ['tag1', 'tag2'], 'global_entity_id': '18e8e088-38d4-474a-9993-e55a9dca2d48-1619463957', 'parent_folder_geid': 'None', 'project_code': 'unittest_entity_info', 'extra_labels': ['VRECore']}
2021-04-26 15:05:51 INFO     RESPONSE DATA: [{"id": 8601, "labels": ["File", "VRECore"], "name": "entity_info_test_3", "time_created": "2021-04-26T19:05:57", "time_lastmodified": "2021-04-26T19:05:57", "file_size": 1000, "full_path": "/vre-data/unittest_entity_info/raw/entity_info_test_3", "path": "/vre-data/unittest_entity_info/raw", "generate_id": "undefined", "guid": "unittest_guid", "namespace": "vrecore", "uploader": "unittest", "project_id": 8618, "input_file_id": "18e8e088-38d4-474a-9993-e55a9dca2d48-1619463957", "process_pipeline": "raw", "operator": "entity_info_unittest", "tags": ["tag1", "tag2"], "global_entity_id": "18e8e088-38d4-474a-9993-e55a9dca2d48-1619463957", "parent_folder_geid": "None", "project_code": "unittest_entity_info"}]

2021-04-26 15:05:51 INFO     RESPONSE STATUS: 200
2021-04-26 15:05:51 INFO     Create relation res: "success"

2021-04-26 15:05:51 INFO     

2021-04-26 15:05:51 INFO     Creating testing folder---------------------------------------------------------
2021-04-26 15:05:51 INFO     RESPONSE DATA: {"code":200,"error_msg":"","page":0,"total":1,"num_of_pages":1,"result":{"id":8610,"labels":["Greenroom","Folder"],"name":"entityinfo_unittest_folder","time_created":"2021-04-26T19:05:57","time_lastmodified":"2021-04-26T19:05:57","global_entity_id":"entity_info_meta_test_geid","folder_level":0,"folder_relative_path":"","project_code":"unittest_entity_info","tags":[],"list_priority":10,"uploader":"EntityInfoUnittest"}}
2021-04-26 15:05:51 INFO     RESPONSE STATUS: 200
2021-04-26 15:05:51 INFO     Project ID: 8618
2021-04-26 15:05:51 INFO     Raw File Info: {'id': 8625, 'labels': ['File', 'Greenroom'], 'name': 'entity_info_test_1', 'time_created': '2021-04-26T19:05:57', 'time_lastmodified': '2021-04-26T19:05:57', 'file_size': 1000, 'full_path': '/data/vre-storage/unittest_entity_info/raw/entity_info_test_1', 'path': '/data/vre-storage/unittest_entity_info/raw', 'generate_id': 'undefined', 'guid': 'unittest_guid', 'namespace': 'greenroom', 'uploader': 'unittest', 'project_id': 8618, 'input_file_id': 'a860f773-b7a2-41bd-830d-18dd63320766-1619463956', 'process_pipeline': 'raw', 'operator': 'entity_info_unittest', 'tags': ['tag1', 'tag2'], 'global_entity_id': 'a860f773-b7a2-41bd-830d-18dd63320766-1619463956', 'parent_folder_geid': 'None', 'project_code': 'unittest_entity_info'}
2021-04-26 15:05:51 INFO     Core File Info: {'id': 8601, 'labels': ['File', 'VRECore'], 'name': 'entity_info_test_3', 'time_created': '2021-04-26T19:05:57', 'time_lastmodified': '2021-04-26T19:05:57', 'file_size': 1000, 'full_path': '/vre-data/unittest_entity_info/raw/entity_info_test_3', 'path': '/vre-data/unittest_entity_info/raw', 'generate_id': 'undefined', 'guid': 'unittest_guid', 'namespace': 'vrecore', 'uploader': 'unittest', 'project_id': 8618, 'input_file_id': '18e8e088-38d4-474a-9993-e55a9dca2d48-1619463957', 'process_pipeline': 'raw', 'operator': 'entity_info_unittest', 'tags': ['tag1', 'tag2'], 'global_entity_id': '18e8e088-38d4-474a-9993-e55a9dca2d48-1619463957', 'parent_folder_geid': 'None', 'project_code': 'unittest_entity_info'}
2021-04-26 15:05:51 INFO     

2021-04-26 15:05:51 INFO     ------------------------------01 test get_raw_file------------------------------
2021-04-26 15:05:51 INFO     Result: {"code":200,"error_msg":"","page":0,"total":1,"num_of_pages":1,"result":{"id":8625,"labels":["File","Greenroom"],"global_entity_id":"a860f773-b7a2-41bd-830d-18dd63320766-1619463956","input_file_id":"a860f773-b7a2-41bd-830d-18dd63320766-1619463956","project_code":"unittest_entity_info","operator":"entity_info_unittest","file_size":1000,"tags":["tag1","tag2"],"path":"/data/vre-storage/unittest_entity_info/raw","time_lastmodified":"2021-04-26T19:05:57","project_id":8618,"uploader":"unittest","process_pipeline":"raw","parent_folder_geid":"None","namespace":"greenroom","name":"entity_info_test_1","time_created":"2021-04-26T19:05:57","guid":"unittest_guid","full_path":"/data/vre-storage/unittest_entity_info/raw/entity_info_test_1","generate_id":"undefined"}}
2021-04-26 15:05:51 INFO     COMPARING CODE: 200 VS 200
2021-04-26 15:05:51 INFO     {'code': 200, 'error_msg': '', 'page': 0, 'total': 1, 'num_of_pages': 1, 'result': {'id': 8625, 'labels': ['File', 'Greenroom'], 'global_entity_id': 'a860f773-b7a2-41bd-830d-18dd63320766-1619463956', 'input_file_id': 'a860f773-b7a2-41bd-830d-18dd63320766-1619463956', 'project_code': 'unittest_entity_info', 'operator': 'entity_info_unittest', 'file_size': 1000, 'tags': ['tag1', 'tag2'], 'path': '/data/vre-storage/unittest_entity_info/raw', 'time_lastmodified': '2021-04-26T19:05:57', 'project_id': 8618, 'uploader': 'unittest', 'process_pipeline': 'raw', 'parent_folder_geid': 'None', 'namespace': 'greenroom', 'name': 'entity_info_test_1', 'time_created': '2021-04-26T19:05:57', 'guid': 'unittest_guid', 'full_path': '/data/vre-storage/unittest_entity_info/raw/entity_info_test_1', 'generate_id': 'undefined'}}
2021-04-26 15:05:51 INFO     COMPARING Type: True VS True
2021-04-26 15:05:51 INFO     

2021-04-26 15:05:51 INFO     -------------------------------02 test get_folder-------------------------------
2021-04-26 15:05:51 INFO     <Response [200]>
2021-04-26 15:05:51 INFO     COMPARING CODE: 200 VS 200
2021-04-26 15:05:51 INFO     {'code': 200, 'error_msg': '', 'page': 0, 'total': 1, 'num_of_pages': 1, 'result': {'id': 8610, 'labels': ['Greenroom', 'Folder'], 'global_entity_id': 'entity_info_meta_test_geid', 'folder_level': 0, 'list_priority': 10, 'folder_relative_path': '', 'time_lastmodified': '2021-04-26T19:05:57', 'uploader': 'EntityInfoUnittest', 'name': 'entityinfo_unittest_folder', 'time_created': '2021-04-26T19:05:57', 'project_code': 'unittest_entity_info', 'tags': []}}
2021-04-26 15:05:51 INFO     COMPARING Type: True VS True
2021-04-26 15:05:51 INFO     

2021-04-26 15:05:51 INFO     ---------------------------03 test get_vre_core_file----------------------------
2021-04-26 15:05:52 INFO     <Response [200]>
2021-04-26 15:05:52 INFO     COMPARING CODE: 200 VS 200
2021-04-26 15:05:52 INFO     {'code': 200, 'error_msg': '', 'page': 0, 'total': 1, 'num_of_pages': 1, 'result': {'id': 8601, 'labels': ['File', 'VRECore'], 'global_entity_id': '18e8e088-38d4-474a-9993-e55a9dca2d48-1619463957', 'input_file_id': '18e8e088-38d4-474a-9993-e55a9dca2d48-1619463957', 'project_code': 'unittest_entity_info', 'operator': 'entity_info_unittest', 'file_size': 1000, 'tags': ['tag1', 'tag2'], 'path': '/vre-data/unittest_entity_info/raw', 'time_lastmodified': '2021-04-26T19:05:57', 'project_id': 8618, 'uploader': 'unittest', 'process_pipeline': 'raw', 'parent_folder_geid': 'None', 'namespace': 'vrecore', 'name': 'entity_info_test_3', 'time_created': '2021-04-26T19:05:57', 'guid': 'unittest_guid', 'full_path': '/vre-data/unittest_entity_info/raw/entity_info_test_3', 'generate_id': 'undefined'}}
2021-04-26 15:05:52 INFO     COMPARING Type: True VS True
2021-04-26 15:05:52 INFO     

2021-04-26 15:05:52 INFO     -----------------------------04 test non_exist_file-----------------------------
2021-04-26 15:05:52 INFO     <Response [404]>
2021-04-26 15:05:52 INFO     COMPARING CODE: 404 VS 404
2021-04-26 15:05:52 INFO     {'code': 404, 'error_msg': '', 'page': 0, 'total': 1, 'num_of_pages': 1, 'result': 'File not found'}
2021-04-26 15:05:52 INFO     COMPARING: File not found VS 'File not found'
2021-04-26 15:05:52 INFO     

2021-04-26 15:05:52 INFO     ------------------------05 test get_file_with_wrong_type------------------------
2021-04-26 15:05:52 INFO     <Response [400]>
2021-04-26 15:05:52 INFO     COMPARING CODE: 400 VS 400
2021-04-26 15:05:52 INFO     {'code': 400, 'error_msg': 'Invalid type faketype', 'page': 0, 'total': 1, 'num_of_pages': 1, 'result': {}}
2021-04-26 15:05:52 INFO     COMPARING error_msg: Invalid type faketype VS Invalid type faketype
2021-04-26 15:05:52 INFO     COMPARING result: {} VS 
2021-04-26 15:05:52 INFO     

2021-04-26 15:05:52 INFO     ------------------------06 test get_file_with_wrong_zone------------------------
2021-04-26 15:05:52 INFO     <Response [400]>
2021-04-26 15:05:52 INFO     COMPARING CODE: 400 VS 400
2021-04-26 15:05:52 INFO     {'code': 400, 'error_msg': 'Invalid zone', 'page': 0, 'total': 1, 'num_of_pages': 1, 'result': {}}
2021-04-26 15:05:52 INFO     COMPARING error_msg: Invalid zone VS Invalid zone
2021-04-26 15:05:52 INFO     COMPARING result: {} VS 
2021-04-26 15:05:52 INFO     

2021-04-26 15:05:52 INFO     START TEAR DOWN PROCESS
2021-04-26 15:05:52 INFO     File ID: [8625, 8601]
2021-04-26 15:05:52 INFO     File GUID: ['unittest_guid', 'unittest_guid']
2021-04-26 15:05:52 INFO     

2021-04-26 15:05:52 INFO     Preparing delete file node------------------------------------------------------
2021-04-26 15:05:52 INFO     DELETE STATUS: 200
2021-04-26 15:05:52 INFO     DELETE RESPONSE: "success"

2021-04-26 15:05:52 INFO     

2021-04-26 15:05:52 INFO     Preparing delete file node------------------------------------------------------
2021-04-26 15:05:52 INFO     DELETE STATUS: 200
2021-04-26 15:05:52 INFO     DELETE RESPONSE: "success"

2021-04-26 15:05:52 INFO     

2021-04-26 15:05:52 INFO     Preparing delete file entity----------------------------------------------------
2021-04-26 15:05:52 INFO     DELETE STATUS: 200
2021-04-26 15:05:52 INFO     DELETE RESPONSE: {"result": {}}

2021-04-26 15:05:52 INFO     

2021-04-26 15:05:52 INFO     Preparing delete file entity----------------------------------------------------
2021-04-26 15:05:52 INFO     DELETE STATUS: 200
2021-04-26 15:05:52 INFO     DELETE RESPONSE: {"result": {}}

2021-04-26 15:05:52 INFO     

2021-04-26 15:05:52 INFO     Preparing delete project--------------------------------------------------------
2021-04-26 15:05:52 INFO     DELETE Project: 8618
2021-04-26 15:05:52 INFO     DELETE STATUS: 200
2021-04-26 15:05:52 INFO     DELETE RESPONSE: "success"

2021-04-26 15:05:52 INFO     

2021-04-26 15:05:52 INFO     Preparing delete folder node----------------------------------------------------
2021-04-26 15:05:52 INFO     DELETE STATUS: 200
2021-04-26 15:05:52 INFO     DELETE RESPONSE: "success"

